{"version":3,"sources":["scripts/app.js"],"names":["routesConfig","$stateProvider","$urlRouterProvider","$locationProvider","html5Mode","hashPrefix","otherwise","state","template","url","$inject","angular","module","service","Persistence","this","save","toBeSaved","localStorage","setItem","JSON","stringify","importSaved","getItem","parse","supprimerdeListe","maListe","el","splice","indexOf","component","templateUrl","controller","bindings","movie","$stateParams","$http","$ctrl","get","movieId","then","result","data","movies","results","ajouterAListe","push","run","$templateCache","put","config"],"mappings":"AA8FA,QAASA,cAAaC,EAAgBC,EAAoBC,GACxDA,EAAkBC,WAAU,GAAMC,WAAW,KAC7CH,EAAmBI,UAAU,KAE7BL,EACGM,MAAM,OACLC,SAAU,gBAEXD,MAAM,YACLE,IAAK,IACLD,SAAU,kBAEXD,MAAM,aACLE,IAAK,kBACLD,SAAU,oBAEXD,MAAM,cACLE,IAAK,UACLD,SAAU,sBAEXD,MAAM,kBACLE,IAAK,cACLD,SAAU,8BAEXD,MAAM,aACLE,IAAK,SACLD,SAAU,oBAvHhBR,aAAaU,SAAW,iBAAkB,qBAAsB,qBADhEC,QACGC,OAAO,OAAQ,YAAa,SAAU,UAEzCD,QACGC,OAAO,OACPC,QAAQ,cAAe,WACtB,GAAIC,GAAcC,IAClBD,GAAYE,KAAO,SAAUC,GAC3BC,aAAaC,QAAQ,yBAA0BC,KAAKC,UAAUJ,KAGhEH,EAAYQ,YAAc,WACxB,MAAuD,QAAnDJ,aAAaK,QAAQ,6BAGlBH,KAAKI,MAAMN,aAAaK,QAAQ,4BAGzCT,EAAYW,iBAAmB,SAAUC,EAASC,GAChDD,EAAQE,OAAOF,EAAQG,QAAQF,GAAK,GACpCb,EAAYE,KAAKU,MAKvBf,QACGC,OAAO,OACPkB,UAAU,UACTC,YAAa,4BACbC,WAAY,aAEZC,UACEC,MAAO,OAKbvB,QACGC,OAAO,OACPkB,UAAU,SACTC,YAAa,2BACbC,YAAA,eAAA,QAAY,SAAyBG,EAAcC,GACjD,GAAIC,GAAQtB,IACZqB,GAAME,IAAI,uCAAyCH,EAAaI,QAAU,gBACzEC,KAAK,SAAUC,GACdJ,EAAMH,MAAQO,EAAOC,WAK7B/B,QACGC,OAAO,OACPkB,UAAU,QACTC,YAAa,0BACbC,YAAA,cAAA,QAAY,SAAUlB,EAAasB,GACjC,GAAIC,GAAQtB,IACZqB,GAAME,IAAI,2DACPE,KAAK,SAAUC,GACdJ,EAAMM,OAASF,EAAOC,KAAKE,UAE/BP,EAAMX,QAAUZ,EAAYQ,cAC5Be,EAAMQ,cAAgB,SAAUlB,GAC9BU,EAAMX,QAAQoB,KAAKnB,GACnBb,EAAYE,KAAKqB,EAAMX,cAK/Bf,QACGC,OAAO,OACPkB,UAAU,cACTC,YAAa,gCACbC,YAAA,cAAY,SAAUlB,GACpB,GAAIuB,GAAQtB,IACZsB,GAAMX,QAAUZ,EAAYQ,kBAIlCX,QACGC,OAAO,OACPkB,UAAU,OACTC,YAAa,kBAGjBpB,QAAQC,OAAO,OAAOmC,KAAK,iBAAkB,SAASC,GAAiBA,EAAeC,IAAI,gBAAgB,0vCAC1GD,EAAeC,IAAI,gCAAgC,sdACnDD,EAAeC,IAAI,0BAA0B,ulCAC7CD,EAAeC,IAAI,2BAA2B,sqCAC9CD,EAAeC,IAAI,4BAA4B,oaAC/CtC,QACGC,OAAO,OACPsC,OAAOlD","file":"scripts/app-00cb8a9fbb.js","sourcesContent":["angular\n  .module('app', ['ui.router', 'ngFlag', 'slick']);\n\nangular\n  .module('app')\n  .service('Persistence', function () {\n    var Persistence = this;\n    Persistence.save = function (toBeSaved) {\n      localStorage.setItem('mon_espace_de_stockage', JSON.stringify(toBeSaved));\n    };\n\n    Persistence.importSaved = function () {\n      if (localStorage.getItem('mon_espace_de_stockage') === null) {\n        return [];\n      }\n      return JSON.parse(localStorage.getItem('mon_espace_de_stockage'));\n    };\n\n    Persistence.supprimerdeListe = function (maListe, el) {\n      maListe.splice(maListe.indexOf(el), 1);\n      Persistence.save(maListe);\n    };\n  });\n\n\nangular\n  .module('app')\n  .component('poster', {\n    templateUrl: 'app/component/poster.html',\n    controller: function posterController() {\n    },\n    bindings: {\n      movie: '<'\n    }\n  });\n\n\nangular\n  .module('app')\n  .component('movie', {\n    templateUrl: 'app/component/movie.html',\n    controller: function movieController($stateParams, $http) {\n      var $ctrl = this;\n      $http.get('https://amc.ig.he-arc.ch/tmdb/movie/' + $stateParams.movieId + '?language=fr')\n      .then(function (result) {\n        $ctrl.movie = result.data;\n      });\n    }\n  });\n\nangular\n  .module('app')\n  .component('list', {\n    templateUrl: 'app/component/list.html',\n    controller: function (Persistence, $http) {\n      var $ctrl = this;\n      $http.get('https://amc.ig.he-arc.ch/tmdb/movie/popular?language=fr')\n        .then(function (result) {\n          $ctrl.movies = result.data.results;\n        });\n      $ctrl.maListe = Persistence.importSaved();\n      $ctrl.ajouterAListe = function (el) {\n        $ctrl.maListe.push(el);\n        Persistence.save($ctrl.maListe);\n      };\n    }\n  });\n\nangular\n  .module('app')\n  .component('favourites', {\n    templateUrl: 'app/component/favourites.html',\n    controller: function (Persistence) {\n      var $ctrl = this;\n      $ctrl.maListe = Persistence.importSaved();\n    }\n  });\n\nangular\n  .module('app')\n  .component('app', {\n    templateUrl: 'app/home.html'\n  });\n\nangular.module(\"app\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/home.html\",\"<nav id=\\\"navbar-menu\\\" class=\\\"navbar navbar-default\\\">\\r\\n    <!--navbar navbar-inverse-->\\r\\n    <div class=\\\"container-fluid\\\">\\r\\n        <!-- Brand and toggle get grouped for better mobile display -->\\r\\n        <div class=\\\"navbar-header\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"navbar-toggle collapsed\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#bs-example-navbar-collapse-1\\\" aria-expanded=\\\"false\\\">\\r\\n\t\t\t\t\t\t<span class=\\\"sr-only\\\">Toggle navigation</span>\\r\\n\t\t\t\t\t\t<span class=\\\"icon-bar\\\"></span>\\r\\n\t\t\t\t\t\t<span class=\\\"icon-bar\\\"></span>\\r\\n\t\t\t\t\t\t<span class=\\\"icon-bar\\\"></span>\\r\\n\t\t\t\t \t</button>\\r\\n            <a class=\\\"navbar-brand\\\" href=\\\"#\\\">Home<span class=\\\"sr-only\\\">(current)</span></a>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-1\\\">\\r\\n            <ul class=\\\"nav navbar-nav\\\">\\r\\n                <!--<li class=\\\"active\\\"><a href=\\\"#\\\">Home<span class=\\\"sr-only\\\">(current)</span></a></li>-->\\r\\n                <li><a ui-sref=\\\"app.list\\\"> Accueil</a></li>\\r\\n                <li><a ui-sref=\\\"app.favourites\\\"> Mes favoris</a></li>\\r\\n                <li><a ng-href=\\\"/component/about/\\\">About</a></li>\\r\\n            </ul>\\r\\n        </div>\\r\\n    </div>\\r\\n</nav>\\r\\n\\r\\n<ui-view></ui-view>\");\n$templateCache.put(\"app/component/favourites.html\",\"<div class=\\\"row jumbotron form-group\\\">\\n  <label>Recherche: <input ng-model=\\\"$ctrl.searchText\\\"></label>\\n</div>\\n<div class=\\\"row\\\">\\n  <div class=\\\"col-md-6\\\"> \\n    <div ng-init=\\\"$ctrl.movies\\\"></div>  \\n    <ul> \\n      <li id=\\\"searchTextResult\\\" ng-repeat=\\\"el in $ctrl.maListe |filter:$ctrl.searchText track by $index \\\">\\n         <a ui-sref=\\\"app.movie({movieId:el.id})\\\"> {{el.title}}\\n        <poster movie=\\\"el\\\"></poster></a>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\");\n$templateCache.put(\"app/component/list.html\",\"<div class=\\\"container\\\">\\n  <div class=\\\"row jumbotron form-group\\\">\\n    <div>\\n      <!-- A completer -->\\n      <label>Recherche: <input ng-model=\\\"$ctrl.searchText\\\"></label>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"row\\\">\\n    <div ng-init=\\\"$ctrl.movies\\\"></div>\\n    <ul>\\n      <li class=\\\"col-xs-12 col-sm-4 col-md-3\\\" style=\\\"height:350px\\\" ng-repeat=\\\"el in $ctrl.movies |filter:$ctrl.searchText track by $index \\\">\\n        <a ui-sref=\\\"app.movie({movieId:el.id})\\\"> {{el.title}}\\n            <poster movie=\\\"el\\\"></poster>\\n          </a>\\n        <button ng-click=\\\"$ctrl.ajouterAListe(el)\\\" class=\\\"btn btn-icon\\\">\\n            <span class=\\\"glyphicon glyphicon-heart\\\" ng-class=\\\"{active: item.favorite}\\\"></span>\\n          </button>\\n      </li>\\n    </ul>\\n    <br>\\n    <slick class=\\\"col-xs-12\\\" dots=\\\"true\\\" infinite=\\\"false\\\" speed=\\\"300\\\" slides-to-show=\\\"5\\\" touch-move=\\\"false\\\" slides-to-scroll=\\\"1\\\">\\n      <div class=\\\"searchTextResult\\\" ng-repeat=\\\"el in $ctrl.movies \\\">\\n        <a ui-sref=\\\"app.movie({movieId:el.id})\\\">\\n          <poster movie=\\\"el\\\"></poster>\\n        </a>\\n      </div>\\n    </slick>\\n  </div>\\n</div>\");\n$templateCache.put(\"app/component/movie.html\",\"<div class=\\\"component container\\\">\\n  <div class=\\\"row\\\">\\n    <div ng-if !=\\\"$ctrl.movie.backdrop_path\\\" class=\\\"col-md-12\\\"></div>\\n\\n    <div ng-if=\\\"$ctrl.movie.backdrop_path\\\" id=\\\"imgbackground\\\" class=\\\"col-md-12\\\" style=\\\"width:100%;height:250px;background:url(http://image.tmdb.org/t/p/w1000/{{$ctrl.movie.backdrop_path}}) no-repeat;background-size:cover\\\" id=\\\"imgbackground\\\" class=\\\"col-md-12\\\" style=\\\"width:100%;height:250px;background:url(http://image.tmdb.org/t/p/w1000/{{$ctrl.movie.backdrop_path}}) no-repeat;background-size: cover\\\">\\n    </div>\\n\\n    <div class=\\\"col-md-12\\\">\\n      <h2>{{$ctrl.movie.title}}</h2>\\n      <p><strong>Categorie: </strong></p>\\n      <ul>\\n        <li ng-repeat=\\\"categorie in $ctrl.movie.genres\\\">{{categorie.name}} </li>\\n      </ul>\\n      <p style=\\\"text-align:justify\\\"><strong>Description: </strong> {{$ctrl.movie.overview}}</p>\\n      <p><strong>Note obtenue: </strong> {{$ctrl.movie.vote_average}}/10</p>\\n      <p ng-repeat=\\\"prod_country in $ctrl.movie.production_countries\\\">\\n        <flag country=\\\"{{ prod_country.iso_3166_1 }}\\\" size=\\\"32\\\"></flag> {{ prod_country.name }} </p>\\n      <poster movie=\\\"$ctrl.movie\\\"></poster>\\n    </div>\\n  </div>\\n</div>\");\n$templateCache.put(\"app/component/poster.html\",\"<div class=\\\"poster\\\">\\n      <a ui-sref=\\\"app.movie({movieId: $ctrl.movie.id})\\\"> \\n            <img ng-if=\\\"$ctrl.movie.poster_path\\\" ng-src=\\\"https://image.tmdb.org/t/p/w185/{{$ctrl.movie.poster_path}}\\\" alt=\\\"Description\\\">\\n            <img ng-if !=\\\"$ctrl.movie.poster_path\\\" ng-src=\\\"http://loremflickr.com/185/252/cars\\\" alt=\\\"img\\\">\\n      </a>\\n</div>\\n<!-- onerror=\\\"this.src=\\'http://loremflickr.com/185/252/cars\\'\\\"-->\");}]);\nangular\n  .module('app')\n  .config(routesConfig);\n\n/** @ngInject */\nfunction routesConfig($stateProvider, $urlRouterProvider, $locationProvider) {\n  $locationProvider.html5Mode(true).hashPrefix('!');\n  $urlRouterProvider.otherwise('/');\n\n  $stateProvider\n    .state('app', {\n      template: '<app></app>'\n    })\n    .state('app.list', {\n      url: '/',\n      template: '<list></list>'\n    })\n    .state('app.movie', {\n      url: '/movie/:movieId',\n      template: '<movie></movie>'\n    })\n    .state('app.poster', {\n      url: '/poster',\n      template: '<poster></poster>'\n    })\n    .state('app.favourites', {\n      url: '/favourites',\n      template: '<favourites></favourites>'\n    })\n    .state('app.about', {\n      url: '/about',\n      template: '<about></about>'\n    });\n}\n\n"],"sourceRoot":"/source/"}